cmake_minimum_required(VERSION 3.5)

project(radariq-client)

set(CMAKE_AUTOMOC ON)

find_package(QT NAMES Qt6 Qt5 REQUIRED COMPONENTS Core Network Gui)
find_package(Qt${QT_VERSION_MAJOR} REQUIRED COMPONENTS Core Network Gui)

include(GNUInstallDirs)
include(CMakePackageConfigHelpers)

add_library(${PROJECT_NAME}
  OARadarIqAbsolute_move.h
  OARadarIqAddress_value.h
  OARadarIqAlarm_event.h
  OARadarIqAlarm_level.h
  OARadarIqAlarm_settings.h
  OARadarIqAlarm_settings_alarm.h
  OARadarIqAuth_token.h
  OARadarIqAuth_tokens.h
  OARadarIqBool_connected.h
  OARadarIqBool_data.h
  OARadarIqBool_enabled.h
  OARadarIqCamera_control_mode.h
  OARadarIqCamera_focus_relative_move.h
  OARadarIqCamera_orientation.h
  OARadarIqCamera_orientation_changed.h
  OARadarIqCamera_settings.h
  OARadarIqCamera_speed.h
  OARadarIqCamera_speed_coord.h
  OARadarIqClass_event.h
  OARadarIqClassifier_params.h
  OARadarIqConfirm_mark.h
  OARadarIqConnection_state.h
  OARadarIqConnection_state_data.h
  OARadarIqDevice_general_settings.h
  OARadarIqDevice_id.h
  OARadarIqDevice_state.h
  OARadarIqFrequency_value.h
  OARadarIqGeo_coordinate.h
  OARadarIqGeo_move_request.h
  OARadarIqGeo_position.h
  OARadarIqGet_address_200_response.h
  OARadarIqGet_camera_orientation_200_response.h
  OARadarIqGet_control_mode_200_response.h
  OARadarIqGet_radar_telemetry_200_response.h
  OARadarIqInteger_value.h
  OARadarIqNetwork_address.h
  OARadarIqObject_class.h
  OARadarIqPlayer_command.h
  OARadarIqRadar_frequency.h
  OARadarIqRadar_mode.h
  OARadarIqRadar_model.h
  OARadarIqRadar_sensitivity.h
  OARadarIqRadar_settings.h
  OARadarIqRadar_telemetry.h
  OARadarIqRadar_threshold_control.h
  OARadarIqRelative_move.h
  OARadarIqSector.h
  OARadarIqSensitivity_value.h
  OARadarIqService_settings.h
  OARadarIqSet_control_mode_request.h
  OARadarIqThreshold_control_value.h
  OARadarIqTrack.h
  OARadarIqTrack_id.h
  OARadarIqTrack_index.h
  OARadarIqTrack_object_id.h
  OARadarIqTrack_point.h
  OARadarIqTrack_point_geometry.h
  OARadarIqTrack_point_meter.h
  OARadarIqTrack_point_velocity.h
  OARadarIqTracks_list.h
  OARadarIqUnit_info.h
  OARadarIqUnit_info_list.h
  OARadarIqUnit_type.h
  OARadarIqWebsocket_remove_tracks_message.h
  OARadarIqWebsocket_tracks_message.h
  OARadarIqWorkzone.h
  OARadarIqZone.h
  OARadarIqCameraApi.h
  OARadarIqDeviceApi.h
  OARadarIqRadarApi.h
  OARadarIqServiceApi.h
  OARadarIqHelpers.h
  OARadarIqHttpRequest.h
  OARadarIqObject.h
  OARadarIqEnum.h
  OARadarIqHttpFileElement.h
  OARadarIqServerConfiguration.h
  OARadarIqServerVariable.h
  OARadarIqOauth.h
  OARadarIqAbsolute_move.cpp
  OARadarIqAddress_value.cpp
  OARadarIqAlarm_event.cpp
  OARadarIqAlarm_level.cpp
  OARadarIqAlarm_settings.cpp
  OARadarIqAlarm_settings_alarm.cpp
  OARadarIqAuth_token.cpp
  OARadarIqAuth_tokens.cpp
  OARadarIqBool_connected.cpp
  OARadarIqBool_data.cpp
  OARadarIqBool_enabled.cpp
  OARadarIqCamera_control_mode.cpp
  OARadarIqCamera_focus_relative_move.cpp
  OARadarIqCamera_orientation.cpp
  OARadarIqCamera_orientation_changed.cpp
  OARadarIqCamera_settings.cpp
  OARadarIqCamera_speed.cpp
  OARadarIqCamera_speed_coord.cpp
  OARadarIqClass_event.cpp
  OARadarIqClassifier_params.cpp
  OARadarIqConfirm_mark.cpp
  OARadarIqConnection_state.cpp
  OARadarIqConnection_state_data.cpp
  OARadarIqDevice_general_settings.cpp
  OARadarIqDevice_id.cpp
  OARadarIqDevice_state.cpp
  OARadarIqFrequency_value.cpp
  OARadarIqGeo_coordinate.cpp
  OARadarIqGeo_move_request.cpp
  OARadarIqGeo_position.cpp
  OARadarIqGet_address_200_response.cpp
  OARadarIqGet_camera_orientation_200_response.cpp
  OARadarIqGet_control_mode_200_response.cpp
  OARadarIqGet_radar_telemetry_200_response.cpp
  OARadarIqInteger_value.cpp
  OARadarIqNetwork_address.cpp
  OARadarIqObject_class.cpp
  OARadarIqPlayer_command.cpp
  OARadarIqRadar_frequency.cpp
  OARadarIqRadar_mode.cpp
  OARadarIqRadar_model.cpp
  OARadarIqRadar_sensitivity.cpp
  OARadarIqRadar_settings.cpp
  OARadarIqRadar_telemetry.cpp
  OARadarIqRadar_threshold_control.cpp
  OARadarIqRelative_move.cpp
  OARadarIqSector.cpp
  OARadarIqSensitivity_value.cpp
  OARadarIqService_settings.cpp
  OARadarIqSet_control_mode_request.cpp
  OARadarIqThreshold_control_value.cpp
  OARadarIqTrack.cpp
  OARadarIqTrack_id.cpp
  OARadarIqTrack_index.cpp
  OARadarIqTrack_object_id.cpp
  OARadarIqTrack_point.cpp
  OARadarIqTrack_point_geometry.cpp
  OARadarIqTrack_point_meter.cpp
  OARadarIqTrack_point_velocity.cpp
  OARadarIqTracks_list.cpp
  OARadarIqUnit_info.cpp
  OARadarIqUnit_info_list.cpp
  OARadarIqUnit_type.cpp
  OARadarIqWebsocket_remove_tracks_message.cpp
  OARadarIqWebsocket_tracks_message.cpp
  OARadarIqWorkzone.cpp
  OARadarIqZone.cpp
  OARadarIqCameraApi.cpp
  OARadarIqDeviceApi.cpp
  OARadarIqRadarApi.cpp
  OARadarIqServiceApi.cpp
  OARadarIqHelpers.cpp
  OARadarIqHttpRequest.cpp
  OARadarIqHttpFileElement.cpp
  OARadarIqOauth.cpp
  )

target_include_directories(${PROJECT_NAME}
    PUBLIC
        $<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}>
        $<INSTALL_INTERFACE:${CMAKE_INSTALL_INCLUDEDIR}>
)

target_link_libraries(${PROJECT_NAME}
    PUBLIC
        Qt${QT_VERSION_MAJOR}::Core
        Qt${QT_VERSION_MAJOR}::Network
        Qt${QT_VERSION_MAJOR}::Gui

)

configure_package_config_file(${CMAKE_CURRENT_SOURCE_DIR}/Config.cmake.in
    "${CMAKE_CURRENT_BINARY_DIR}/${PROJECT_NAME}Config.cmake"
    INSTALL_DESTINATION "${CMAKE_INSTALL_LIBDIR}/cmake/${PROJECT_NAME}"
)

